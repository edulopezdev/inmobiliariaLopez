@model InmobiliariaLopez.Models.Pago

@{
  ViewData["Title"] = "Crear Pago";
}

<h1 class="mb-4 text-center" style="font-family: 'Roboto', sans-serif; font-size: 2rem; color: #343a40;">Crear Nuevo
  Pago</h1>

<div class="card shadow-lg border-0 rounded-4">
  <div class="card-header bg-gradient text-dark border-0 rounded-4">
    <h5 class="mb-0" style="font-family: 'Roboto', sans-serif; font-size: 1.25rem;">Formulario de Pago</h5>
  </div>
  <div class="card-body" style="padding: 1.5rem;">
    <form asp-action="Create" method="post">
      @Html.AntiForgeryToken()

      <!-- Fecha de Pago -->
      <div class="form-group">
        <label asp-for="FechaPago" class="control-label"></label>
        <input asp-for="FechaPago" class="form-control" type="date" />
        <span asp-validation-for="FechaPago" class="text-danger"></span>
      </div>

      <!-- Tipo de Pago -->
      <div class="form-group">
        <label asp-for="TipoPago" class="control-label"></label>
        <select asp-for="TipoPago" class="form-control">
          <option value="Alquiler" selected>Alquiler</option>
          <option value="Multa">Multa</option>
          <option value="Otro">Otro</option>
        </select>
        <span asp-validation-for="TipoPago" class="text-danger"></span>
      </div>

      <!-- Meses Adeudados -->
      <div class="form-group">
        <label asp-for="MesesAdeudados" class="control-label"></label>
        <input asp-for="MesesAdeudados" class="form-control" type="number" min="0" />
        <span asp-validation-for="MesesAdeudados" class="text-danger"></span>
      </div>

      <!-- Estado -->
      <div class="form-group">
        <label asp-for="Estado" class="control-label"></label>
        <select asp-for="Estado" class="form-control">
          <option value="Pendiente" selected>Pendiente</option>
          <option value="Pagado">Pagado</option>
          <option value="Anulado">Anulado</option>
        </select>
        <span asp-validation-for="Estado" class="text-danger"></span>
      </div>

      <!-- Detalle -->
      <div class="form-group">
        <label asp-for="Detalle" class="control-label"></label>
        <input asp-for="Detalle" class="form-control" />
        <span asp-validation-for="Detalle" class="text-danger"></span>
      </div>

      <!-- Importe -->
      <div class="form-group">
        <label asp-for="Importe" class="control-label"></label>
        <input asp-for="Importe" class="form-control" type="number" step="0.01" min="0" />
        <span asp-validation-for="Importe" class="text-danger"></span>
      </div>

      <!-- IdUsuarioCrea -->  
      <div class="form-group">
        <label asp-for="IdUsuarioCrea" class="control-label">Usuario Sistema</label>
        <select asp-for="IdUsuarioCrea" class="form-control">
          <option value="1">admin1@example.com</option>
          <option value="2">empleado1@example.com</option>
          <option value="3">empleado2@example.com</option>
          <option value="4">admin2@example.com</option>
          <option value="5">empleado3@example.com</option>
        </select>
        <span asp-validation-for="IdUsuarioCrea" class="text-danger"></span>
      </div>


      <!-- Contrato -->
      <div class="form-group">
        <label asp-for="IdContrato" class="control-label">Propiedad / Inquilino</label>
        <select asp-for="IdContrato" class="form-control select2">
          <option value="">Seleccione una propiedad</option>
          @foreach (var contrato in (List<SelectListItem>)ViewBag.Contratos)
          {
            <option value="@contrato.Value">@contrato.Text</option>
          }
        </select>
        <span asp-validation-for="IdContrato" class="text-danger"></span>
      </div>


      <!-- Botones de acciÃ³n -->
      <div class="card-footer d-flex justify-content-end">
        <button type="submit" class="btn btn-primary btn-sm me-2">Guardar</button>
        <a href="@Url.Action("Index")" class="btn btn-secondary btn-sm">Volver al listado</a>
      </div>
    </form>
  </div>
</div>

@section Scripts {
  @await Html.PartialAsync("_ValidationScriptsPartial")
  <script>
    $(document).ready(function () {
      $('.select2').select2({
        placeholder: "Seleccione una propiedad",
        allowClear: true,
        language: "es"
      });
    });
  </script>
}
